<!-- Modal for Adding New Car -->
<div class="modal fade" id="addCarModal" tabindex="-1" aria-labelledby="addCarModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addCarModalLabel">Add New Car</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addCarForm">
                    @Html.AntiForgeryToken()

                    <input type="hidden" id="CustomerId" name="CustomerId" value="@Model.CustomerId" />

                    <div class="mb-3">
                        <label for="CarRego" class="form-label">Car Rego</label>
                        <input type="text" class="form-control" id="CarRego" name="CarRego" required>
                        <span id="CarRegoError" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label for="CarModel" class="form-label">Car Model</label>
                        <input type="text" class="form-control" id="CarModel" name="CarModel" required>
                        <span id="CarModelError" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label for="CarYear" class="form-label">Car Year</label>
                        <input type="number" class="form-control" id="CarYear" name="CarYear" required>
                        <span id="CarYearError" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label for="MakeId" class="form-label">Car Make</label>
                        @if (ViewBag.Makes != null && ViewBag.Makes.Count > 0)
                        {
                            <select class="form-select" id="MakeId" name="MakeId" required>
                                <option value="" disabled selected>Select Car Make</option>
                                @foreach (var make in ViewBag.Makes)
                                {
                                    <option value="@make.MakeId">@make.MakeName</option>
                                }
                            </select>
                        }
                        else
                        {
                            <select class="form-select" id="MakeId" name="MakeId" required disabled>
                                <option value="" disabled selected>No makes available</option>
                            </select>
                        }
                        <span id="MakeIdError" class="text-danger"></span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="saveCarBtn">Save Car</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Confirming Car Deletion -->
<div class="modal fade" id="deleteCarModal" tabindex="-1" aria-labelledby="deleteCarModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteCarModalLabel">Delete Car</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete the following car?</p>
                <div class="border p-3">
                    <p><strong>Car ID:</strong> <span id="deleteCarId"></span></p>
                    <p><strong>Rego #:</strong> <span id="deleteCarRego"></span></p>
                    <p><strong>Model:</strong> <span id="deleteCarModel"></span></p>
                    <p><strong>Year:</strong> <span id="deleteCarYear"></span></p>
                </div>
                <input type="hidden" id="hiddenDeleteCarId" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteCarBtn">Delete</button>
            </div>
        </div>
    </div>
</div>